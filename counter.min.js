document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll('[text-animation="counter"]');0!==e.length?(gsap.registerPlugin(ScrollTrigger),e.forEach(e=>{const t=e.textContent.trim();if(!t)return void console.warn("[counter] Counter element has no text content, skipping");const n=window.getComputedStyle(e).lineHeight;e.textContent="",Object.assign(e.style,{display:"flex",gap:"4px",overflow:"hidden",lineHeight:"normal"!==n?n:"1em"}),t.split("").forEach((n,o)=>{const i=document.createElement("div"),l=document.createElement("div");if(!/\d/.test(n)){const t=document.createElement("span");return t.textContent=n,Object.assign(t.style,{display:"inline-block",minWidth:" "===n?"0.3ch":"auto"}),void e.appendChild(t)}const s=parseInt(n,10);Object.assign(i.style,{position:"relative",height:"1em",overflow:"hidden",minWidth:"0.6ch",display:"inline-block"}),Object.assign(l.style,{display:"flex",flexDirection:"column"});for(let e=0;e<3;e++)for(let e=0;e<10;e++){const t=document.createElement("span");t.textContent=e,Object.assign(t.style,{display:"block",lineHeight:"1em"}),l.appendChild(t)}for(let e=0;e<=s;e++){const t=document.createElement("span");t.textContent=e,Object.assign(t.style,{display:"block",lineHeight:"1em"}),l.appendChild(t)}i.appendChild(l),e.appendChild(i),requestAnimationFrame(()=>{const n=l.firstElementChild.offsetHeight;if(!n||0===n)return void console.error("[counter] Could not measure digit height, counter may be invisible or have invalid styles");const i=-(30+s)*n;gsap.to(l,{y:i,ease:"power2.out",duration:2,delay:.1*(t.length-1-o),scrollTrigger:{trigger:e,start:"top 80%",once:!0,onEnter:()=>console.log(`[counter] digit ${o} animating to ${s}`)}})})})})):console.error('[counter] No elements found with attribute [text-animation="counter"]')});