document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".top-nav-dropdown"),t=()=>window.innerWidth>=992;e.forEach(e=>{const n=e.querySelector(".top-nav-dropdown-content");if(!n)return;let s;const a="transform 0.3s ease, opacity 0.4s ease";let o=t();const r=()=>{clearTimeout(s),n.style.display="none",n.style.opacity="0",n.style.transform="translateY(50%)",n.style.transition=a},l=()=>{clearTimeout(s),n.style.display="flex",n.style.transition=`${a} 0.2s`,requestAnimationFrame(()=>{n.style.transform="translateY(0%)",n.style.opacity="1"})},i=()=>{clearTimeout(s),n.style.transition=a,n.style.transform="translateY(50%)",n.style.opacity="0",s=setTimeout(()=>{n.style.display="none"},400)};e.addEventListener("mouseenter",()=>{o&&l()}),e.addEventListener("mouseleave",e=>{var t;o&&((t=e.relatedTarget)&&(n===t||n.contains(t))||i())}),n.addEventListener("mouseenter",()=>{o&&(clearTimeout(s),n.style.transition=`${a} 0.2s`,n.style.transform="translateY(0%)",n.style.opacity="1")}),n.addEventListener("mouseleave",()=>{o&&i()}),e.addEventListener("click",e=>{if(o)return;if(e.target.closest(".top-nav-dropdown-content"))return;e.preventDefault();"flex"===n.style.display&&"1"===n.style.opacity?i():l()});window.addEventListener("resize",()=>{const e=t();e!==o&&(o=e,r())}),r()})});